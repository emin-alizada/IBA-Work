<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <title>azericard payment taksit page</title>

    <script type="text/javascript">

        var jsonObj;

        function init() {
            var inst = "W3siSU5TVF9JRCI6IklOU1RfQUxMMiIsIklOU1RfQ09ERSI6IklOU1RfQUxMIiwiSU5TVF9OVU0iOiIyIiwiSU5TVF9BTU5UIjoiIiwiSU5TVF9GUkVFX1BFUklPRCI6IiIsIlNISUZUX05VTSI6IiIsIklOU1RfRlRPVEFMIjoiIiwiSU5TVF9GUkFURSI6IiIsIklOU1RfSVJBVEUiOiIiLCJJTlNUX05BTUUiOiJNb250aHMgMiJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMMyIsIklOU1RfQ09ERSI6IklOU1RfQUxMIiwiSU5TVF9OVU0iOiIzIiwiSU5TVF9BTU5UIjoiIiwiSU5TVF9GUkVFX1BFUklPRCI6IiIsIlNISUZUX05VTSI6IiIsIklOU1RfRlRPVEFMIjoiIiwiSU5TVF9GUkFURSI6IiIsIklOU1RfSVJBVEUiOiIiLCJJTlNUX05BTUUiOiJNb250aHMgMyJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMNiIsIklOU1RfQ09ERSI6IklOU1RfQUxMIiwiSU5TVF9OVU0iOiI2IiwiSU5TVF9BTU5UIjoiIiwiSU5TVF9GUkVFX1BFUklPRCI6IiIsIlNISUZUX05VTSI6IiIsIklOU1RfRlRPVEFMIjoiIiwiSU5TVF9GUkFURSI6IiIsIklOU1RfSVJBVEUiOiIiLCJJTlNUX05BTUUiOiJNb250aHMgNiJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMOSIsIklOU1RfQ09ERSI6IklOU1RfQUxMIiwiSU5TVF9OVU0iOiI5IiwiSU5TVF9BTU5UIjoiIiwiSU5TVF9GUkVFX1BFUklPRCI6IiIsIlNISUZUX05VTSI6IiIsIklOU1RfRlRPVEFMIjoiIiwiSU5TVF9GUkFURSI6IiIsIklOU1RfSVJBVEUiOiIiLCJJTlNUX05BTUUiOiJNb250aHMgOSJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMMTIiLCJJTlNUX0NPREUiOiJJTlNUX0FMTCIsIklOU1RfTlVNIjoiMTIiLCJJTlNUX0FNTlQiOiIiLCJJTlNUX0ZSRUVfUEVSSU9EIjoiIiwiU0hJRlRfTlVNIjoiIiwiSU5TVF9GVE9UQUwiOiIiLCJJTlNUX0ZSQVRFIjoiIiwiSU5TVF9JUkFURSI6IiIsIklOU1RfTkFNRSI6Ik1vbnRocyAxMiJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMMTgiLCJJTlNUX0NPREUiOiJJTlNUX0FMTCIsIklOU1RfTlVNIjoiMTgiLCJJTlNUX0FNTlQiOiIiLCJJTlNUX0ZSRUVfUEVSSU9EIjoiIiwiU0hJRlRfTlVNIjoiIiwiSU5TVF9GVE9UQUwiOiIiLCJJTlNUX0ZSQVRFIjoiIiwiSU5TVF9JUkFURSI6IiIsIklOU1RfTkFNRSI6Ik1vbnRocyAxOCJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMMjQiLCJJTlNUX0NPREUiOiJJTlNUX0FMTCIsIklOU1RfTlVNIjoiMjQiLCJJTlNUX0FNTlQiOiIiLCJJTlNUX0ZSRUVfUEVSSU9EIjoiIiwiU0hJRlRfTlVNIjoiIiwiSU5TVF9GVE9UQUwiOiIiLCJJTlNUX0ZSQVRFIjoiIiwiSU5TVF9JUkFURSI6IiIsIklOU1RfTkFNRSI6Ik1vbnRocyAyNCJ9LHsiSU5TVF9JRCI6IklOU1RfQUxMNjAiLCJJTlNUX0NPREUiOiJJTlNUX0FMTCIsIklOU1RfTlVNIjoiNjAiLCJJTlNUX0FNTlQiOiIiLCJJTlNUX0ZSRUVfUEVSSU9EIjoiIiwiU0hJRlRfTlVNIjoiIiwiSU5TVF9GVE9UQUwiOiIiLCJJTlNUX0ZSQVRFIjoiIiwiSU5TVF9JUkFURSI6IiIsIklOU1RfTkFNRSI6Ik1vbnRocyA2MCJ9XQ==";
            // var inst = "%491";
            if ("%62".length < 1) document.getElementById("f62row").style.display = "none";
            if ("%53".length < 1) document.getElementById("f53row").style.display = "none";
            if ("%55".length < 1) document.getElementById("f55row").style.display = "none";
            if ("%157".length < 1) document.getElementById("f157row").style.display = "none";

            if (inst.length > 0) {
                jsonObj = eval(b64DecodeUnicode(inst));


                // prev version
                // var sel_el = document.getElementById('selectInstId');
                var taksitContainer = document.getElementById('taksitPeriod');

                for (let i = 0; i < jsonObj.length; i += 1) {
                    // prev version

                    // option = document.createElement('option');
                    // option.value = jsonObj[i].INST_ID;
                    // option.text = jsonObj[i].INST_NAME;
                    // sel_el.add(option);

                    const button = document.createElement('button');
                    button.type = 'button'
                    button.classList.add('form-input', 'taksit-button');
                    button.dataset.taksit = jsonObj[i].INST_ID;
                    button.innerText = jsonObj[i].INST_NUM;
                    taksitContainer.append(button);
                }

                buttonClickAddListener();
            }
        }

        function clickCancelHandler(submit) {
            addInputValue("ACQ_INST_PAYIN", "NONE");
            addInputValue("CONFIRM", "N")
        }

        function clickPayHandler(submit) {
            var e = document.getElementById("taksit-term");
            var instType = e.value;
            e.remove();
            addInputValue("ACQ_INST_PAYIN", instType);
            addInputValue("CONFIRM", "Y")
        }

        function submitHandler(form) {
            return true;
        }

        function b64DecodeUnicode(str) {
            return decodeURIComponent(atob(str).split('').map(function (c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
        }

        // function createInstTableCell(name, val) {
        //     var table = document.getElementById("instTable")
        //     var tr = document.createElement('tr');
        //     var td = document.createElement('td');
        //     td.appendChild(document.createTextNode(name));
        //     tr.appendChild(td);
        //     td = document.createElement('td');
        //     td.appendChild(document.createTextNode(val));
        //     td.setAttribute("id", name);
        //     tr.appendChild(td);
        //     table.appendChild(tr);
        // }

        // function OnChangeInstallment(chosen) {
        //     console.log(chosen)
        //     for (i = 0; i <= jsonObj.length; i += 1) {
        //
        //         if (jsonObj[i].INST_ID == chosen) {
        //             // document.getElementById("btnPayInst").disabled = false;
        //             var el = document.getElementById("INST_ID")
        //
        //             if (typeof (el) != 'undefined' && el != null) {
        //                 document.getElementById("INST_ID").innerHTML = jsonObj[i].INST_ID;
        //                 document.getElementById("INST_CODE").innerHTML = jsonObj[i].INST_CODE;
        //                 document.getElementById("INST_NUM").innerHTML = jsonObj[i].INST_NUM;
        //                 document.getElementById("INST_AMNT").innerHTML = jsonObj[i].INST_AMNT;
        //                 document.getElementById("INST_FREE_PERIOD").innerHTML = jsonObj[i].INST_FREE_PERIOD;
        //                 document.getElementById("SHIFT_NUM").innerHTML = jsonObj[i].SHIFT_NUM;
        //                 document.getElementById("INST_FTOTAL").innerHTML = jsonObj[i].INST_FTOTAL;
        //                 document.getElementById("INST_FRATE").innerHTML = jsonObj[i].INST_FRATE;
        //                 document.getElementById("INST_IRATE").innerHTML = jsonObj[i].INST_FRATE;
        //             } else {
        //                 createInstTableCell("INST_ID", jsonObj[i].INST_ID);
        //                 createInstTableCell("INST_CODE", jsonObj[i].INST_CODE);
        //                 createInstTableCell("INST_NUM", jsonObj[i].INST_NUM);
        //                 createInstTableCell("INST_AMNT", jsonObj[i].INST_AMNT);
        //                 createInstTableCell("INST_FREE_PERIOD", jsonObj[i].INST_FREE_PERIOD);
        //                 createInstTableCell("SHIFT_NUM", jsonObj[i].SHIFT_NUM);
        //                 createInstTableCell("INST_FTOTAL", jsonObj[i].INST_FTOTAL);
        //                 createInstTableCell("INST_FRATE", jsonObj[i].INST_FRATE);
        //                 createInstTableCell("INST_FRATE", jsonObj[i].INST_FRATE);
        //                 document.getElementById("instTable").style.visibility = "visible";
        //             }
        //
        //             break;
        //         }
        //     }
        // }

        function addInputValue(n, v) {
            var el = document.createElement('input');
            el.setAttribute('type', 'hidden');
            el.setAttribute('name', n);
            el.setAttribute('value', v);
            const form = document.getElementById("cform");
            console.log(form)
            form.appendChild(el);
        }

    </script>
</head>
<body onload="init()">
<div class="container">
    <div class="main">

        <form method="post" action="" id="cform" class="form" onsubmit="return submitHandler(this);">
            <div class="logo-azericard">
                <a href="https://azericard.com">
                    <object data="img/azericard-logo.svg" class="iba-logo" type="image/svg+xml"></object>
                </a>
            </div>
            <div class="input-container overflow-h">
                <label>Taksiti seçin</label>
                <div class="taksit-buttons-wrapper" id="taksitPeriod">
<!--                    <button type="button" class="form-input taksit-button" data-taksit="2">-->
<!--                        2-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="3">-->
<!--                        3-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="6">-->
<!--                        6-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="9">-->
<!--                        9-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="12">-->
<!--                        12-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="18" disabled>-->
<!--                        18-->
<!--                    </button>-->
<!--                    <button type="button" class="form-input taksit-button" data-taksit="24" disabled>-->
<!--                        24-->
<!--                    </button>-->
                    <input type="hidden" name="taksit" id="taksit-term" required>
                </div>
            </div>

            <div class="input-container input-submit-container">
                <input type="submit" value="TAKSİTLƏ ÖDƏ" class="pay-with-taksit" id="pay-w-t">
            </div>
            <p class="fancy-lines"><span>və ya</span></p>
            <div class="input-container input-submit-container" style="max-width: none">
                <input type="submit" value="BİRBAŞA ÖDƏ" class="direct-pay-button" id="direct-p">
            </div>
            <div class="monthly-amount" style="display: none"><p>₼ <span>14.00</span> / hər ay</p></div>
            <input TYPE="HIDDEN" NAME="VINST_FID" VALUE="%255"/>
            <input TYPE="HIDDEN" NAME="TERMINAL" VALUE="%21" />
            <input TYPE="HIDDEN" NAME="TIMESTAMP" VALUE="%47" />
            <input TYPE="HIDDEN" NAME="TRTYPE" VALUE="%22" />
        </form>
    </div>
    <div class="sidebar">
        <div class="sidebar-content p-absolute">
            <img src="img/abb-logo.svg" alt="">
        </div>
        <div class="sidebar-content pt-150">
            <h3 class="sidebar-content-header">Məbləğ</h3>
            <p class="sidebar-content-text" id="js-total-price">100.17</p>
        </div>
        <div class="sidebar-content">
            <h3 class="sidebar-content-header">Valyuta</h3>
            <p class="sidebar-content-text">AZN</p>
        </div>
        <div class="sidebar-content">
            <h3 class="sidebar-content-header">Şifarişin nömrəsi</h3>
            <p class="sidebar-content-text">100017</p>
        </div>
        <div class="sidebar-content">
            <h3 class="sidebar-content-header">Əməliyyatın təfsilatı</h3>
            <p class="sidebar-content-text">Payment for Ibalink</p>
        </div>
        <div class="sidebar-content">
            <h3 class="sidebar-content-header">Mağazanın adı</h3>
            <p class="sidebar-content-text">Ibalink</p>
        </div>
        <div class="sidebar-content sidebar-content-margin">
            <h3 class="sidebar-content-header">Mağazanın URL-i</h3>
            <a href="https://ibalink.az" class="sidebar-content-url">https://ibalink.az</a>
        </div>

        <div class="sidebar-cards">
            <img src="img/mc.svg" alt="">
            <img src="img/ms.svg" alt="">
            <img src="img/sc.svg" alt="">
            <img src="img/vv.svg" alt="">
            <img src="img/vb.svg" alt="">
        </div>
    </div>

    <!----------------------------- overlay --------------->
    <div id="menu" class="overlay">
        <div class="overlay-content">
            <div class="overlay-content-close">
                <span class="overlay-content-close-text">Ödəniş məlumatları</span>
                <button class="closebtn" onclick="closeMenu()"><img src="img/close-icon.svg" alt=""></button>
            </div>
            <div class="overlay-sidebar-cards">
                <div class="overlay-sidebar-cards-rows">
                    <img src="img/mc.svg" alt="">
                    <img src="img/ms.svg" alt="">
                    <img src="img/sc.svg" alt="">

                </div>
                <div class="overlay-sidebar-cards-rows">
                    <img src="img/vv.svg" alt="">
                    <img src="img/vb.svg" alt="">
                </div>
            </div>
            <div class="sidebar-content">
                <h3 class="sidebar-content-header">Məbləğ</h3>
                <p class="sidebar-content-text">100.00</p>
            </div>
            <div class="sidebar-content">
                <h3 class="sidebar-content-header">Valyuta</h3>
                <p class="sidebar-content-text">AZN</p>
            </div>
            <div class="sidebar-content">
                <h3 class="sidebar-content-header">Şifarişin nömrəsi</h3>
                <p class="sidebar-content-text">100017</p>
            </div>
            <div class="sidebar-content">
                <h3 class="sidebar-content-header">Əməliyyatın təfsilatı</h3>
                <p class="sidebar-content-text">Payment for Ibalink</p>
            </div>
            <div class="sidebar-content">
                <h3 class="sidebar-content-header">Mağazanın adı</h3>
                <p class="sidebar-content-text">Ibalink</p>
            </div>
            <div class="sidebar-content sidebar-content-margin">
                <h3 class="sidebar-content-header">Mağazanın URL-i</h3>
                <a href="https://ibalink.az" class="sidebar-content-url">https://ibalink.az</a>
            </div>
            <div class="sidebar-content">
                <img src="img/overlay-ibar-logo.svg" alt="">
            </div>
        </div>
    </div>
    <button type="button" class="openMenu" onclick="openMenu()">ÖDƏNİŞ MƏLUMATLARI<img src="img/arrow.svg" class="openMenu-icon" alt=""></button>
    <!----------------------------- overlay ended--------------->
    <!-- sidebar ended -->
</div>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/jquery.mask.min.js"></script>
<script src="js/script.js"></script>
</body>
</html>
